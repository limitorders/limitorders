import { createApp } from 'vue'
import App from './App.vue'
import router from './router'
import './index.css'

window.logicBytecode = "0x608060405234801561001057600080fd5b5061273f806100206000396000f3fe6080604052600436106100fe5760003560e01c80639b8c915611610095578063bdf3c4ae11610064578063bdf3c4ae14610297578063c7efbe36146102b7578063c885bc58146102d7578063e6b03a51146102ec578063fa1da012146102ff57600080fd5b80639b8c91561461022e5780639c65a17014610244578063adbade9b14610264578063ba19863e1461028457600080fd5b80635fd5f136116100d15780635fd5f136146101ac5780636ae9c433146101bf578063790e5453146101d45780639211555c1461020157600080fd5b806309650c1614610103578063137ee36e1461012e57806315dd9d0d146101525780634ddd108a14610174575b600080fd5b34801561010f57600080fd5b5061011861032c565b6040516101259190612375565b60405180910390f35b34801561013a57600080fd5b5061014460045481565b604051908152602001610125565b34801561015e57600080fd5b5061017261016d3660046121b0565b610382565b005b34801561018057600080fd5b50600154610194906001600160a01b031681565b6040516001600160a01b039091168152602001610125565b6101726101ba3660046121e2565b6103d8565b3480156101cb57600080fd5b50610118610597565b3480156101e057600080fd5b506101f46101ef36600461228a565b6105e9565b6040516101259190612327565b34801561020d57600080fd5b5061022161021c3660046121b0565b610613565b60405161012591906123f3565b34801561023a57600080fd5b5061014460025481565b34801561025057600080fd5b506101f461025f36600461228a565b6107a2565b34801561027057600080fd5b5061017261027f3660046121b0565b6107bb565b6101726102923660046121e2565b610c32565b3480156102a357600080fd5b50600054610194906001600160a01b031681565b3480156102c357600080fd5b506101f46102d2366004612073565b610e1c565b3480156102e357600080fd5b50610172610e42565b6101726102fa3660046121b0565b610eed565b34801561030b57600080fd5b5061031f61031a3660046120ca565b6112b1565b60405161012591906123a7565b610334611f75565b60005b601f81101561037e57600581601f8110610353576103536126c5565b01548282601f8110610367576103676126c5565b60200201528061037681612633565b915050610337565b5090565b60025460a01c156103cd5760405162461bcd60e51b815260206004820152601060248201526f185b1c9958591e4b58591a9d5cdd195960821b60448201526064015b60405180910390fd5b600280549091179055565b60008054606083901c916001600160601b03841691610403906001600160a01b031633856001611334565b6001600160601b03169050806000808061041b611587565b9150915060005b898110156104ba5760005b60d08110156104a75786610440576104a7565b6000818d8d85818110610455576104556126c5565b90506020020135901c90508065ffffffffffff166000141561047757506104a7565b61048e8e8265ffffffffffff168b88888d8c6115c1565b90985095506104a09050603082612499565b905061042d565b50806104b281612633565b915050610422565b5060006103e86104cb6002866125d1565b6104d591906124d2565b905080600460008282546104e99190612499565b909155505060015461050e906001600160a01b03163361050984886125f0565b6117e9565b600054610525906001600160a01b031633886117e9565b600061053187876125f0565b9050600042604087901b60a084901b17179050336001600160a01b03167fb377d39ea6d787b02977d12053054788647bf39350be5cc237855bc1ca51143d8260405161057f91815260200190565b60405180910390a25050505050505050505050505050565b61059f611f75565b60005b601f81101561037e57602481601f81106105be576105be6126c5565b01548282601f81106105d2576105d26126c5565b6020020152806105e181612633565b9150506105a2565b606061060b611f1f85611edc8110610603576106036126c5565b0184846118f7565b949350505050565b61061b611f94565b60008260405160200161063091815260200190565b60408051601f1981840301815290829052915060009081906127129061065a9085906024016123bb565b60408051601f198184030181529181526020820180516001600160e01b031663d6d7d52560e01b1790525161068f919061230b565b600060405180830381855af49150503d80600081146106ca576040519150601f19603f3d011682016040523d82523d6000602084013e6106cf565b606091505b50915091508180156106ed57508051604014806106ed575080516080145b6106f657600080fd5b80516040141561070f5750506000604083015250919050565b60606040820190506000808280602001905181019061072e9190612266565b6001600160401b03606083811c82168b52602084811c909216918b019190915261ffff601084901c811660408c01529092168983015260e081811c60808b015260c082811c63ffffffff1660a08c01526001600160601b039383901c8416908b015291169088015250949695505050505050565b606061060b604385611edc8110610603576106036126c5565b33600090815260036020526040812080549091908290849081106107e1576107e16126c5565b9060005260206000200154905060006107f982610613565b9050806040015161ffff16600014156108445760405162461bcd60e51b815260206004820152600d60248201526c373796b9bab1b416b7b93232b960991b60448201526064016103c4565b60006043826060015161ffff16611edc8110610862576108626126c5565b0190506000611f1f836040015161ffff16611edc8110610884576108846126c5565b01905060008084608001518560a0015163ffffffff16915063ffffffff1691508382815481106108b6576108b66126c5565b906000526020600020015486146109005760405162461bcd60e51b815260206004820152600e60248201526d0eee4dedcce5ae6cad8d85ad2c8f60931b60448201526064016103c4565b828181548110610912576109126126c5565b9060005260206000200154861461095b5760405162461bcd60e51b815260206004820152600d60248201526c0eee4dedcce5ac4eaf25ad2c8f609b1b60448201526064016103c4565b610964866119ea565b86548790610974906001906125f0565b81548110610984576109846126c5565b90600052602060002001548789815481106109a1576109a16126c5565b600091825260208220019190915584546109bd906001906125f0565b9050808314610a2e5760008582815481106109da576109da6126c5565b90600052602060002001549050808685815481106109fa576109fa6126c5565b90600052602060002001819055506000610a1382610613565b63ffffffff861660808201529050610a2b8282611aec565b50505b8354610a3c906001906125f0565b9050808214610aad576000848281548110610a5957610a596126c5565b9060005260206000200154905080858481548110610a7957610a796126c5565b90600052602060002001819055506000610a9282610613565b63ffffffff851660a08201529050610aaa8282611aec565b50505b87805480610abd57610abd6126af565b6001900381819060005260206000200160009055905584805480610ae357610ae36126af565b6001900381819060005260206000200160009055905583805480610b0957610b096126af565b6000828152602081208201600019908101919091550190558454610b7e576000806101008860600151610b3c91906124b1565b6101008960600151610b4e919061264e565b61ffff16915061ffff169150806001901b19600583601f8110610b7357610b736126c5565b018054909116905550505b8354610bdb576000806101008860400151610b9991906124b1565b6101008960400151610bab919061264e565b61ffff16915061ffff169150806001901b19602483601f8110610bd057610bd06126c5565b018054909116905550505b60005460c0870151610c01916001600160a01b03169033906001600160601b03166117e9565b60015460e0870151610c27916001600160a01b03169033906001600160601b03166117e9565b505050505050505050565b60018054606083901c916001600160601b03841691610c60916001600160a01b039091169033908590611334565b6001600160601b0316915060006103e8610c7b6002856125d1565b610c8591906124d2565b90506000610c9382856125f0565b90508060008080610ca2611587565b9150915060005b8a811015610d4d5760005b60d0811015610d3a57851580610cc957508885145b15610cd357610d3a565b6000818e8e85818110610ce857610ce86126c5565b90506020020135901c90508065ffffffffffff1660001415610d0a5750610d3a565b610d218f8265ffffffffffff168c88888c8c611ca0565b9097509550610d339050603082612499565b9050610cb4565b5080610d4581612633565b915050610ca9565b506000610d5a85876125f0565b9050600086610d69838a6125d1565b610d7391906124d2565b600054909150610d8d906001600160a01b031633876117e9565b600154610db3906001600160a01b03163383610da98c8b612499565b61050991906125f0565b8060046000828254610dc59190612499565b9091555050604080514284831b60a089901b1717808252915133917f8e12807666f0f51c7970fe00d8e03270bd01ae9701badb92d1147644ef21cafc919081900360200190a2505050505050505050505050505050565b6001600160a01b038316600090815260036020526040902060609061060b9084846118f7565b600060025460601b60601c90506000816001600160a01b031663017e7e586040518163ffffffff1660e01b8152600401602060405180830381600087803b158015610e8c57600080fd5b505af1158015610ea0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ec4919061204f565b600154600454919250610ee4916001600160a01b039091169083906117e9565b50506000600455565b63ffffffff80821690602083901c16818111610f345760405162461bcd60e51b815260206004820152600660248201526548693c3d4c6f60d01b60448201526064016103c4565b81610f735760405162461bcd60e51b815260206004820152600f60248201526e7a65726f2d70726963652d7469636b60881b60448201526064016103c4565b610f7b611f94565b610f8483611e98565b61ffff1660408301526001600160401b03168152610fa182611e98565b61ffff1660608301526001600160401b031660208201526001600160601b03604085901c1660c0820181905260a085901c60e0830152151580610ff0575060e08101516001600160601b031615155b61102a5760405162461bcd60e51b815260206004820152600b60248201526a1e995c9bcb585b5bdd5b9d60aa1b60448201526064016103c4565b600080546001600160a01b03166127111480159061105557506001546001600160a01b031661271114155b905061108360008054906101000a90046001600160a01b0316338460c001516001600160601b031684611334565b6001600160601b0390811660c084015260015460e08401516110b4926001600160a01b039092169133911684611334565b6001600160601b031660e08301523360601b4360201b175b6110d581610613565b602001516001600160401b0316156110f957806110f181612633565b9150506110cc565b33600090815260036020908152604082208054600181018255818452918320909101839055606085015190919060439061ffff16611edc811061113e5761113e6126c5565b0190506000611f1f866040015161ffff16611edc8110611160576111606126c5565b835463ffffffff90811660808a01529101805490911660a088015290506111878487611aec565b8154600181810184556000848152602080822090930187905583548083018555848252929020909101859055825414156112115760008061010088606001516111d091906124b1565b61010089606001516111e2919061264e565b61ffff16915061ffff169150806001901b600583601f8110611206576112066126c5565b018054909117905550505b80546001141561127157600080610100886040015161123091906124b1565b6101008960400151611242919061264e565b61ffff16915061ffff169150806001901b602483601f8110611266576112666126c5565b018054909117905550505b60405189815233907f82ea020c83bbe07a91831294c36bea763d660fc1ab474ea81784aa532558a22e9060200160405180910390a2505050505050505050565b6112b9611fd8565b81815260408301516112d19060649061ffff166124d2565b83516001600160401b0316901b602082015260608301516112f89060649061ffff166124d2565b60208401516001600160401b0316901b604082015260c08301516001600160601b03908116606083015260e09093015190921660808301525090565b6000826113435750600061060b565b826001600160a01b038616612711141561139c578334146113975760405162461bcd60e51b815260206004820152600e60248201526d0ecc2d8eaca5adad2e6dac2e8c6d60931b60448201526064016103c4565b61157e565b8215806113a7575034155b6113e35760405162461bcd60e51b815260206004820152600d60248201526c0c8dedce85ae6cadcc85ac4c6d609b1b60448201526064016103c4565b6040516370a0823160e01b81523060048201526000906001600160a01b038816906370a082319060240160206040518083038186803b15801561142557600080fd5b505afa158015611439573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061145d91906121c9565b6040516323b872dd60e01b81526001600160a01b03888116600483015230602483015260448201889052919250908816906323b872dd90606401602060405180830381600087803b1580156114b157600080fd5b505af11580156114c5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114e991906120a8565b506040516370a0823160e01b81523060048201526000906001600160a01b038916906370a082319060240160206040518083038186803b15801561152c57600080fd5b505afa158015611540573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061156491906121c9565b905061157082826125f0565b6001600160601b0316925050505b95945050505050565b600254600090819060a181901c9060a01c600116158015906115b1576001935090915081906115bb565b9092506001915082905b50509091565b600080808061ffff8a1660108b901c611f1f82611edc81106115e5576115e56126c5565b018054909450811061160057878795509550505050506117dd565b838181548110611612576116126126c5565b906000526020600020015492505050600061162c82610613565b905060006064826040015161ffff1661164591906124d2565b82516001600160401b0316901b90508c81101561166b57878795509550505050506117dd565b60006116778b836125d1565b8a611684601a600a612529565b8560e001516001600160601b031661169c91906125d1565b6116a691906125d1565b6116b091906124d2565b90506000808a83116116d257505060e08301516001600160601b03168161170e565b8b6116df601a600a612529565b6116e991906125d1565b8d6116f4868e6125d1565b6116fe91906125d1565b61170891906124d2565b91508a90505b600061171a838c612499565b90508e81111561176d578a8f61173091906125f0565b925061173c8e866125d1565b8d611749601a600a612529565b61175390866125d1565b61175d91906125d1565b61176791906124d2565b91508e90505b99508961177a828d6125f0565b9b50818660c001516001600160601b03166117959190612499565b6001600160601b0390811660c088015260e08701516117b6918591166125f0565b6001600160601b031660e08701526117ce8787611aec565b8b8b9950995050505050505050505b97509795505050505050565b806117f357505050565b6040516001600160a01b03838116602483015260448201839052600091829186169060640160408051601f198184030181529181526020820180516001600160e01b031663a9059cbb60e01b1790525161184d919061230b565b6000604051808303816000865af19150503d806000811461188a576040519150601f19603f3d011682016040523d82523d6000602084013e61188f565b606091505b50915091506000818060200190518101906118aa91906120a8565b90508280156118b65750805b6118ef5760405162461bcd60e51b815260206004820152600a6024820152691d1c985b9ccb59985a5b60b21b60448201526064016103c4565b505050505050565b825460609082111561190857835491505b61191283836125f0565b6001600160401b03811115611929576119296126db565b60405190808252806020026020018201604052801561196257816020015b61194f611fd8565b8152602001906001900390816119475790505b509050825b828110156119e2576000858281548110611983576119836126c5565b90600052602060002001549050600061199b82610613565b90506119a781836112b1565b846119b288866125f0565b815181106119c2576119c26126c5565b6020026020010181905250505080806119da90612633565b915050611967565b509392505050565b6000816040516020016119ff91815260200190565b60408051601f19818403018152600080845260208401909252925080612712611a2c8585604481016123ce565b60408051601f198184030181529181526020820180516001600160e01b03166350c63a8f60e11b17905251611a61919061230b565b600060405180830381855af49150503d8060008114611a9c576040519150601f19603f3d011682016040523d82523d6000602084013e611aa1565b606091505b509150915081611ae55760405162461bcd60e51b815260206004820152600f60248201526e14d1540c4c0c57d1115317d1905253608a1b60448201526064016103c4565b5050505050565b600082604051602001611b0191815260200190565b60408051808303601f190181528282528451602080870151878501516060808a015160808b015160a08c015160c08d015160e08e015161ffff948516949096166001600160401b03909716988b1b6fffffffffffffffff00000000000000001698909817601090811b9690961790951b91909117858a018190526001600160601b039384169390961663ffffffff909416941b67ffffffff000000001693909317831b91909117821b1785850181905284518087038601815291860190945291945092600090819061271290611bdd90889086906084016123ce565b60408051601f198184030181529181526020820180516001600160e01b03166350c63a8f60e11b17905251611c12919061230b565b600060405180830381855af49150503d8060008114611c4d576040519150601f19603f3d011682016040523d82523d6000602084013e611c52565b606091505b509150915081611c965760405162461bcd60e51b815260206004820152600f60248201526e14d1540c4c0c57d4d15517d1905253608a1b60448201526064016103c4565b5050505050505050565b600080808061ffff8a1660108b901c604382611edc8110611cc357611cc36126c5565b0180549094508110611cde57878795509550505050506117dd565b838181548110611cf057611cf06126c5565b9060005260206000200154925050506000611d0a82610613565b905060006064826060015161ffff16611d2391906124d2565b82602001516001600160401b0316901b90508c811115611d4c57878795509550505050506117dd565b600089611d5b601a600a612529565b611d6591906125d1565b60c08401516001600160601b0316611d7d8d856125d1565b611d8791906125d1565b611d9191906124d2565b90506000808a8311611db457505060c083015181906001600160601b0316611def565b8a9150611dc18d856125d1565b8c611dce601a600a612529565b611dd8908e6125d1565b611de291906125d1565b611dec91906124d2565b90505b6000611dfb828c612499565b90508e811115611e4f578a8f611e1191906125f0565b91508c611e20601a600a612529565b611e2a91906125d1565b8e611e3587856125d1565b611e3f91906125d1565b611e4991906124d2565b92508e90505b995089611e5c838d6125f0565b9b50818660c001516001600160601b0316611e7791906125f0565b6001600160601b0390811660c088015260e08701516117b691859116612499565b6000611fff601383901c166207ffff831682611eb560648461264e565b61ffff16905060006301ffffff611ecd600a8461266f565b611ed89060196125d1565b7f0220f5210e98bb865d1dc2b7c26120e3f07327782b08640e4b66038fad000000901c166301ffffff611f0c600a856124d2565b611f179060196125d1565b611f4692917f03bb6d01bdb8cecfefc66101802d413cd51cb459d9624498446224bf7f00000090911c166125d1565b905063023f1490611f578482612499565b611f6190836125d1565b611f6b91906124d2565b9450505050915091565b604051806103e00160405280601f906020820280368337509192915050565b6040805161010081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c0810182905260e081019190915290565b6040518060a001604052806005906020820280368337509192915050565b803561ffff8116811461200857600080fd5b919050565b803563ffffffff8116811461200857600080fd5b80356001600160401b038116811461200857600080fd5b80356001600160601b038116811461200857600080fd5b60006020828403121561206157600080fd5b815161206c816126f1565b9392505050565b60008060006060848603121561208857600080fd5b8335612093816126f1565b95602085013595506040909401359392505050565b6000602082840312156120ba57600080fd5b8151801515811461206c57600080fd5b6000808284036101208112156120df57600080fd5b610100808212156120ef57600080fd5b60405191508082018281106001600160401b038211171561212057634e487b7160e01b600052604160045260246000fd5b60405261212c85612021565b825261213a60208601612021565b602083015261214b60408601611ff6565b604083015261215c60608601611ff6565b606083015261216d6080860161200d565b608083015261217e60a0860161200d565b60a083015261218f60c08601612038565b60c08301526121a060e08601612038565b60e0830152909593013593505050565b6000602082840312156121c257600080fd5b5035919050565b6000602082840312156121db57600080fd5b5051919050565b600080600080606085870312156121f857600080fd5b8435935060208501356001600160401b038082111561221657600080fd5b818701915087601f83011261222a57600080fd5b81358181111561223957600080fd5b8860208260051b850101111561224e57600080fd5b95986020929092019750949560400135945092505050565b6000806040838503121561227957600080fd5b505080516020909101519092909150565b60008060006060848603121561229f57600080fd5b505081359360208301359350604090920135919050565b8060005b60058110156122d95781518452602093840193909101906001016122ba565b50505050565b600081518084526122f7816020860160208601612607565b601f01601f19169290920160200192915050565b6000825161231d818460208701612607565b9190910192915050565b6020808252825182820181905260009190848201906040850190845b81811015612369576123568385516122b6565b9284019260a09290920191600101612343565b50909695505050505050565b6103e08101818360005b601f81101561239e57815183526020928301929091019060010161237f565b50505092915050565b60a081016123b582846122b6565b92915050565b60208152600061206c60208301846122df565b6040815260006123e160408301856122df565b828103602084015261157e81856122df565b6000610100820190506001600160401b0380845116835280602085015116602084015250604083015161ffff8082166040850152806060860151166060850152505063ffffffff608084015116608083015260a083015161245c60a084018263ffffffff169052565b5060c083015161247760c08401826001600160601b03169052565b5060e083015161249260e08401826001600160601b03169052565b5092915050565b600082198211156124ac576124ac612683565b500190565b600061ffff808416806124c6576124c6612699565b92169190910492915050565b6000826124e1576124e1612699565b500490565b600181815b8085111561252157816000190482111561250757612507612683565b8085161561251457918102915b93841c93908002906124eb565b509250929050565b600061206c838360008261253f575060016123b5565b8161254c575060006123b5565b8160018114612562576002811461256c57612588565b60019150506123b5565b60ff84111561257d5761257d612683565b50506001821b6123b5565b5060208310610133831016604e8410600b84101617156125ab575081810a6123b5565b6125b583836124e6565b80600019048211156125c9576125c9612683565b029392505050565b60008160001904831182151516156125eb576125eb612683565b500290565b60008282101561260257612602612683565b500390565b60005b8381101561262257818101518382015260200161260a565b838111156122d95750506000910152565b600060001982141561264757612647612683565b5060010190565b600061ffff8084168061266357612663612699565b92169190910692915050565b60008261267e5761267e612699565b500690565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b634e487b7160e01b600052603160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b038116811461270657600080fd5b5056fea26469706673582212200735d13490dade223ce246feb10094e5be7da2751f04e0a46c16a3b864e8a77464736f6c63430008060033"

window.proxyBytecode = "0x60a060405234801561001057600080fd5b5060405161026a38038061026a83398101604081905261002f91610088565b600080546001600160a01b03199081166001600160a01b0395861617909155600180549091169284169290921790915533600255166080526100cb565b80516001600160a01b038116811461008357600080fd5b919050565b60008060006060848603121561009d57600080fd5b6100a68461006c565b92506100b46020850161006c565b91506100c26040850161006c565b90509250925092565b60805161017f6100eb600039600081816052015260e3015261017f6000f3fe6080604052600436106100435760003560e01c80634ddd108a1461009457806390a1707b146100d15780639b8c915614610113578063bdf3c4ae146101295761004d565b3661004d57600080fd5b6040517f00000000000000000000000000000000000000000000000000000000000000009036600082376000803683855af43d806000843e818015610090578184f35b8184fd5b3480156100a057600080fd5b506001546100b4906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156100dd57600080fd5b506101057f000000000000000000000000000000000000000000000000000000000000000081565b6040519081526020016100c8565b34801561011f57600080fd5b5061010560025481565b34801561013557600080fd5b506000546100b4906001600160a01b03168156fea264697066735822122078061075c5fe5efe03b096000a83a1dfdeaa14bd3f5823a9079190ff4ecdf3b464736f6c63430008060033"

window.factoryBytecode = "0x608060405234801561001057600080fd5b506040516109f93803806109f983398101604081905261002f9161006f565b60008054336001600160a01b03199182168117909255600180548216909217909155600280549091166001600160a01b039290921691909117905561009f565b60006020828403121561008157600080fd5b81516001600160a01b038116811461009857600080fd5b9392505050565b61094b806100ae6000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063405a0a041161005b578063405a0a04146100ce5780639c041ebd146100e1578063eeb97a09146100f4578063f46901ed1461010757600080fd5b8063017e7e5814610082578063094b7415146100b15780632dd072a0146100c4575b600080fd5b600254610095906001600160a01b031681565b6040516001600160a01b03909116815260200160405180910390f35b600054610095906001600160a01b031681565b6100cc61011a565b005b6100cc6100dc366004610509565b610194565b6100cc6100ef36600461052b565b610203565b600154610095906001600160a01b031681565b6100cc610115366004610509565b610471565b6001546001600160a01b031633146101705760405162461bcd60e51b81526020600482015260146024820152733737ba16b732bb96b332b2ba3796b9b2ba3a32b960611b60448201526064015b60405180910390fd5b600154600080546001600160a01b0319166001600160a01b03909216919091179055565b6000546001600160a01b031633146101e15760405162461bcd60e51b815260206004820152601060248201526f3737ba16b332b2ba3796b9b2ba3a32b960811b6044820152606401610167565b600180546001600160a01b0319166001600160a01b0392909216919091179055565b60008060001b848484604051610218906104e0565b6001600160a01b039384168152918316602083015290911660408201526060018190604051809103906000f5905080158015610258573d6000803e3d6000fd5b50905060006001600160a01b038516612711146102e557846001600160a01b031663313ce5676040518163ffffffff1660e01b815260040160206040518083038186803b1580156102a857600080fd5b505afa1580156102bc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102e0919061056e565b6102e8565b60125b60ff16905060006001600160a01b0385166127111461037757846001600160a01b031663313ce5676040518163ffffffff1660e01b815260040160206040518083038186803b15801561033a57600080fd5b505afa15801561034e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610372919061056e565b61037a565b60125b60ff16905060008282106103a8576001610394848461067e565b61039f90600a6105d4565b901b90506103c7565b60016103b4838561067e565b6103bf90600a6105d4565b6001911b1790505b6040516315dd9d0d60e01b815260a082901b60048201526001600160a01b038516906315dd9d0d90602401600060405180830381600087803b15801561040c57600080fd5b505af1158015610420573d6000803e3d6000fd5b50506040516001600160a01b038781168252808a1693508a1691507f454b0172f64812df0cd504c2bd7df7aab8ff328a54d946b4bd0fa7c527adf9cc9060200160405180910390a350505050505050565b6000546001600160a01b031633146104be5760405162461bcd60e51b815260206004820152601060248201526f3737ba16b332b2ba3796b9b2ba3a32b960811b6044820152606401610167565b600280546001600160a01b0319166001600160a01b0392909216919091179055565b61026a806106ac83390190565b80356001600160a01b038116811461050457600080fd5b919050565b60006020828403121561051b57600080fd5b610524826104ed565b9392505050565b60008060006060848603121561054057600080fd5b610549846104ed565b9250610557602085016104ed565b9150610565604085016104ed565b90509250925092565b60006020828403121561058057600080fd5b815160ff8116811461052457600080fd5b600181815b808511156105cc5781600019048211156105b2576105b2610695565b808516156105bf57918102915b93841c9390800290610596565b509250929050565b600061052483836000826105ea57506001610678565b816105f757506000610678565b816001811461060d576002811461061757610633565b6001915050610678565b60ff84111561062857610628610695565b50506001821b610678565b5060208310610133831016604e8410600b8410161715610656575081810a610678565b6106608383610591565b806000190482111561067457610674610695565b0290505b92915050565b60008282101561069057610690610695565b500390565b634e487b7160e01b600052601160045260246000fdfe60a060405234801561001057600080fd5b5060405161026a38038061026a83398101604081905261002f91610088565b600080546001600160a01b03199081166001600160a01b0395861617909155600180549091169284169290921790915533600255166080526100cb565b80516001600160a01b038116811461008357600080fd5b919050565b60008060006060848603121561009d57600080fd5b6100a68461006c565b92506100b46020850161006c565b91506100c26040850161006c565b90509250925092565b60805161017f6100eb600039600081816052015260e3015261017f6000f3fe6080604052600436106100435760003560e01c80634ddd108a1461009457806390a1707b146100d15780639b8c915614610113578063bdf3c4ae146101295761004d565b3661004d57600080fd5b6040517f00000000000000000000000000000000000000000000000000000000000000009036600082376000803683855af43d806000843e818015610090578184f35b8184fd5b3480156100a057600080fd5b506001546100b4906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156100dd57600080fd5b506101057f000000000000000000000000000000000000000000000000000000000000000081565b6040519081526020016100c8565b34801561011f57600080fd5b5061010560025481565b34801561013557600080fd5b506000546100b4906001600160a01b03168156fea264697066735822122078061075c5fe5efe03b096000a83a1dfdeaa14bd3f5823a9079190ff4ecdf3b464736f6c63430008060033a26469706673582212208c5d4780ff21cb32a6b785cb934d328718b2670d0aace11aa1eed1fe25acc78764736f6c63430008060033"

window.LogicAddress = "0x8a6386089a7D87e5ea5D7163d08e0bBEb76B601c"

window.FactoryAddress = "0x88f5EcEEdC750b533bff65599b3A549Fb613938f"

window.SEP20ABI = [
    "function name() view returns (string)",
    "function symbol() view returns (string)",
    "function decimals() view returns (uint8)",
    "function totalSupply() external view returns (uint256)",
    "function balanceOf(address account) external view returns (uint256)",
    "function transfer(address recipient, uint256 amount) external returns (bool)",
    "function allowance(address owner, address spender) external view returns (uint256)",
    "function approve(address spender, uint256 amount) external returns (bool)",
    "function transferFrom(address sender, address recipient, uint256 amount) external returns (bool)",
    "event Transfer(address indexed from, address indexed to, uint256 value)",
    "event Approval(address indexed owner, address indexed spender, uint256 value)"]

window.ABI = [
"function createGridOrder(uint packedOrder) external payable",
"function cancelGridOrder(uint userIdx) external",
"function dealWithSellOrders(uint maxPrice, uint[] orderPosList, uint moneyAmountIn_maxGotStock) external payable",
"function dealWithBuyOrders(uint minPrice, uint[] orderPosList, uint stockAmountIn_maxGotMoney) external payable",
"function getUserOrders(address user, uint start, uint end) view external returns(uint[5][] memory orders)",
"function getSellOrders(uint tick, uint start, uint end) view external returns(uint[5][] memory orders)",
"function getBuyOrders(uint tick, uint start, uint end) view external returns(uint[5][] memory orders)",
"function getSellOrderMaskWords() view returns(uint[31])",
"function getBuyOrderMaskWords() view returns(uint[31])"]

window.DealWithSellOrders = ethers.utils.id("DealWithSellOrders(address,uint256)")
window.DealWithBuyOrders = ethers.utils.id("DealWithBuyOrders(address,uint256)")

window.alertNoWallet = function() {
      alert("No wallet installed! Please install MetaMask or other web3 wallet to use this App.");
}

window.connectWallet = async function() {
   if (typeof window.ethereum === 'undefined') {
      if (typeof window.web3 !== 'undefined') {
          window.ethereum = window.web3
      } else if (typeof window.TPJSBrigeClient !== 'undefined') {
          window.ethereum = window.TPJSBrigeClient
      } else if (typeof window.imToken !== 'undefined') {
          window.ethereum = window.imToken
      } else {
          const provider = await detectEthereumProvider()
          if (provider) {
              window.ethereum = provider
          } else {
              alertNoWallet()
	      return false
          }
      }
   } else {
      await ethereum.request({ method: 'eth_requestAccounts' })
   }
   return true
}

window.alertNoCurrentMarket = function() {
      alert("You have not chosen the current market! Please choose one in the 'Markets' tab.");
}

window.getMarketAddress = function(stockAddr, moneyAddr) {
  const stock32 = ethers.utils.hexZeroPad(stockAddr, 32).substr(2) // using substr to skip 0x
  const money32 = ethers.utils.hexZeroPad(moneyAddr, 32).substr(2)
  const impl32 = ethers.utils.hexZeroPad(LogicAddress, 32).substr(2)
  const deployCode = window.proxyBytecode+stock32+money32+impl32
  const deployCodeHash = ethers.utils.keccak256(deployCode)
  return ethers.utils.getCreate2Address(window.FactoryAddress, ethers.utils.hexZeroPad("0x0", 32), deployCodeHash)
}

window.orderArrayToObj = function(orderArr, indexAndTick, stockDecimals, moneyDecimals) {
  return {
    indexAndTick: indexAndTick,
    id: orderArr[0].toHexString(),
    lowPrice: parseFloat(ethers.utils.formatUnits(orderArr[1], 26)).toPrecision(6)*1.0,
    highPrice: parseFloat(ethers.utils.formatUnits(orderArr[2], 26)).toPrecision(6)*1.0,
    stockAmount: parseFloat(ethers.utils.formatUnits(orderArr[3], stockDecimals)).toPrecision(6)*1.0,
    moneyAmount: parseFloat(ethers.utils.formatUnits(orderArr[4], moneyDecimals)).toPrecision(6)*1.0,
  }
}

window.safeGetAmount = async function(coinType, symbol, amount, decimals, marketAddress, gasPrice) {
  const provider = new ethers.providers.Web3Provider(window.ethereum)
  const signer = provider.getSigner()
  const sep20Contract = new ethers.Contract(coinType, SEP20ABI, provider)
  const addr = await signer.getAddress()
  const balanceAmt = await sep20Contract.balanceOf(addr)
  const balance = ethers.utils.formatUnits(balanceAmt, decimals)
  const allowanceAmt = await sep20Contract.allowance(addr, marketAddress)
  const allowance = ethers.utils.formatUnits(allowanceAmt, decimals)
  console.log("allowance", symbol, allowance)
  if(amount*Math.pow(10, decimals) >= Math.pow(2, 95)) {
    alert("The amount is larger than 2**95. This DApp cannot support it.")
    return null
  }
  if(balance < amount) {
    alert("You do not own enough "+symbol+" for the grid order! It needs "+amount+" and you only have "+balance)
    return null
  }
  if(coinType != SEP206Address && allowance < amount) {
    const ok = confirm("You haven't approve enough "+symbol+" to this DApp. Do you want to approve now?")
    if(ok) {
      const maxAmount = "0x0FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"
      alert("Transaction for approving will be sent. Please retry after it succeeds.")
      sep20Contract.connect(signer).approve(marketAddress, maxAmount/*, {gasPrice: gasPrice}*/)
    }
    return null
  }
  return ethers.utils.parseUnits(amount.toString(), decimals)
}

google.charts.load('current', {packages: ['corechart', 'line']});

function IsPC() {
       var userAgentInfo = navigator.userAgent;
       var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod");
       var flag = true;
       for (var v = 0; v < Agents.length; v++) {
            if (userAgentInfo.indexOf(Agents[v]) > 0) {
                flag = false;
                break;
             }
       }
       return flag;
}

if(IsPC()) {
   document.getElementById("app").style.zoom = 1.1
}

window.SEP206Address = "0x0000000000000000000000000000000000002711"

createApp(App).use(router).mount('#app')

// MARS: 0x434113E92Ee117F5Ddc4D0a23047A7b1ce8D38af
// XYZ: 0xfAa9fCC4e601d5B7E365A8a17173D48bb4C98371

